<!DOCTYPE html>
<html>
<head>
  <title>Stereoscopic HMD Interactive Calculator</title>
  <style>
    .container {
      display: flex;
      justify-content: space-around;
      width: 800px;
      margin: 0 auto;
      padding: 10px;
      border: 1px solid #ccc;
    }
    .input-group {
      margin-bottom: 10px;
      padding: 5px;
    }
    .input-group label {
      display: block;
      margin-bottom: 5px;
    }
    .input-group input {
      width: 64px;
    }
    .output {
      
      padding: 5px;
    }
    .output input {
        width: 64px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="input-group">
      <input type="number" id="width" value="120.96" step="0.01" /> Display Panel Width<br>
      <input type="number" id="height" value="68.04" step="0.01" /> Display Panel Height<br>
      <input type="number" id="resx" value="2560" step="1.0" /> Horizontal Resolution<br>
      <input type="number" id="resy" value="1440" step="1.0" /> Vertical Resolution<br>
      <input type="number" id="IPD" value="64" step="0.01" /> IPD / Lens Spacing<br>
      <input type="number" id="dualoffset" value="0" step="0.01" /> Dual-Screen Display Offset<br>
      <input type="number" id="divider" value="1" step="0.01" /> Screen Divider Thickness<br>
    </div>
    <div class="input-group">
        <input type="number" id="lensD" value="60" step="0.01" /> Lens Diameter<br>
        <input type="number" id="lensF" value="30" step="0.01" /> Lens Focal Length<br>
        <input type="number" id="lensT" value="2" step="0.01" /> Lens Thickness<br>
        <input type="number" id="desiredFocus" value="1500" step="0.01" /> Desired Focal Plane<br>
        <input type="number" id="tolerance" value="0.2" step="0.01" /> Build Tolerance<br>
        <input type="number" id="sweetFOV" value="30" step="0.01" /> Sweet-Spot FOV<br>
    </div>
  </div>

  <div class="container">
    <div class="output">
        <input type="text" id="pixelDimensions" readonly /> Pixel Size (Microns)<br>
        <input type="text" id="pixelLoss" readonly /> Pixel Loss <br>
        <input type="text" id="focalPlane" readonly /> Virtual Focal Plane <br>
        <input type="text" id="magnification" readonly /> Magnification <br>
        <input type="text" id="idealRelief" readonly /> Ideal Eye Relief <br>
        <input type="text" id="lensO" readonly /> Lens Offset <br>
        <input type="text" id="eyeScreen" readonly /> Eye/Screen Offset <br>
    </div>
    <div class="output">
        <input type="text" id="monoFOV" readonly /> Monocular FOV <br>
        <input type="text" id="binoFOV" readonly /> Binocular FOV <br>
        <input type="text" id="vertFOV" readonly /> Vertical FOV <br>
        <input type="text" id="oneEyeFOV" readonly /> One-Eye Horizontal FOV <br>
        <input type="text" id="temporal" readonly /> Temporal Angle <br>
        <input type="text" id="nasal" readonly /> Nasal Angle <br>
        <input type="text" id="sweetD" readonly /> Sweet Spot Diameter <br>
    </div>
    <div class="output">
        <input type="text" id="monoCutoff" readonly /> Monocular Cutoff <br>
        <input type="text" id="binoCutoff" readonly /> Binocular Cutoff <br>
        <input type="text" id="vertCutoff" readonly /> Vertical Cutoff <br>
        <input type="text" id="ppdHorizontal" readonly /> PPD Horizontal Avg. <br>
        <input type="text" id="ppdVertical" readonly /> PPD Vertical Avg. <br>
        <input type="text" id="ppdSweetHorizontal" readonly /> Sweet Spot Horizontal PPD <br>
        <input type="text" id="ppdSweetVertical" readonly /> Sweet Spot Vertical PPD <br>
    </div>
  </div>

  <script>
    function updateOutputs() {
      const width = parseFloat(document.getElementById('width').value);
      const height = parseFloat(document.getElementById('height').value);
      const resx = parseFloat(document.getElementById('resx').value);
      const resy = parseFloat(document.getElementById('resy').value);

      const pixWidth = width / resx;
      const pixHeight = height / resy;

      document.getElementById('pixelDimensions').value = pixWidth.toFixed(3)*1000 + "x" + pixHeight.toFixed(3)*1000;
    }
    updateOutputs();

    const inputs = document.querySelectorAll('.input-group input');
    inputs.forEach((input) => {
      input.addEventListener('input', updateOutputs);
    });
  </script>
</body>
</html>
